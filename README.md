# Blog-Persona

> A personal blog and a web app using Vue.

## Build Setup

``` bash
# install dependencies
npm install

# serve with hot reload at localhost:8080
npm run dev

# build for production with minification
npm run build

# build for production and view the bundle analyzer report
npm run build --report
```

For a detailed explanation on how things work, check out the [guide](http://vuejs-templates.github.io/webpack/) and [docs for vue-loader](http://vuejs.github.io/vue-loader).

## Docs

###  1 引言
#### 1.1 目的
#### 1.2 文档格式
#### 1.3 术语
#### 1.4 参考


###  2 系统概述
#### 2.1 概述
博客，仅音译，英文名为Blogger,它的正式名称为网络日记。用户可以在博客系统上发布文章，与互联网上的其他用户进行交流与分享，它代表着新的生活、工作和学习方式。
#### 2.2 功能
#### 2.3 运行环境
该系统为B/S三层结构，它的运行环境分客户端、应用服务器端和数据库服务器端三部分。
以下是系统的软件环境。
1. 客户端
操作系统：Windows2000 Professional/XP或更新版本。
浏览器：IE6以上，其它常见浏览器如FireFox。
2. 应用服务器端
操作系统：Ubuntu 16.04 LTS或更新版本。
应用服务器：Nginx。
3. 数据库服务器端
操作系统：Windows2000 Server或更新版本。
数据库系统：MySQL。

#### 2.4 假设与依赖


###  3 系统特性
#### 3.1 系统角色
本系统主要用于学校的以下几类人员：
1. 管理员即已注册用户，可新建，删除或编辑文章，对文章标签进行管理，浏览文章
2. 游客，浏览文章，对文章进行打赏

####  3.2 文章管理
##### 3.2.1 新建文章
使用者：管理员
目的：添加一篇新文章
基本事件流
1. 管理员进入博客文章一览界面，本用例开始
2. 系统显示所有已发布文章，管理员点击新建
3. 系统跳转至文章编辑界面，管理员输入文章内容
4. 管理员点击发布按钮，系统将文章保存为md文件，并跳转至文章一览页面

##### 3.2.2 编辑文章
使用者：管理员
目的：对现有的一篇文章进行修改
基本事件流
1. 管理员进入某篇文章的内容页，本用例开始
2. 管理员点击编辑，系统跳转至文章编辑界面
3. 系统通过文件系统获取该文章对应的md文件的内容，并在正文位置显示格式化后的md文字内容
4. 管理员对文章内容进行修改
4. 管理员点击保存按钮，系统将文章保存为md文件，并跳转至文章一览页面

##### 3.2.3 删除文章
使用者：管理员
目的：添加一篇新文章
基本事件流
1. 管理员进入博客文章一览界面，本用例开始
2. 系统显示所有已发布文章，管理员点击删除文章，选择需要删除的一篇或多篇文章
3. 管理员点击删除，系统提示管理员进行删除确认操作
4. 管理员确认删除，系统通过文件系统删除相应的md文件

####  3.3 标签管理
##### 3.3.1 添加标签
使用者：管理员
目的：为现有的一篇文章添加标签
基本事件流
1. 管理员进入单个文章标签管理界面，本用例开始
2. 系统显示所有文章标签一览，管理员点击现有标签或输入需要添加标签的文字，为当前文章添加标签
3. 管理员点击保存按钮，系统将标签保存至数据库

> 后面的都按照这个标准写

##### 3.3.2 删除标签
使用者：管理员
目的：删除一篇文章现有的标签
基本事件流
1. 管理员进入单个文章标签管理界面，本用例开始
2. 系统显示所有文章标签一览，管理员点击删除标签，选择需要删除的一个或多个标签
3. 管理员点击删除，系统提示管理员进行删除确认操作
4. 管理员确认删除，系统将相应标签从数据库删除

####  3.4 文章浏览
##### 3.4.1 游客浏览文章
使用者：游客
目的：浏览一篇现有的文章的内容
基本事件流
1. 游客进入某篇文章的内容页
2. 系统通过文件系统获取该文章对应的md文件的内容，并在正文位置显示格式化后的md文字内容

[vue-md-loader](https://github.com/wxsms/vue-md-loader)
> 通过vue-md-loader或者是一些vue的md浏览器组件浏览文章内容。
> 因为这个组件不自带样式，可能需要自己写CSS。
> 如果觉得太麻烦的话看看有没有别的一体化的组件，用默认样式就可以。

##### 3.4.2 管理员浏览文章
使用者：管理员
目的：浏览一篇现有文章的内容
基本事件流
1. 管理员进入某篇文章的内容页
2. 系统检查本地的管理员token是否有效，有效则进入第三步；否则进入第四步
3. 系统通过文件系统获取该文章对应的md文件的内容，并在正文位置显示格式化后的md文字内容，并在控制栏渲染文章管理相关操作控件
4. 页面提示token失效，并跳转至登录界面

####  3.5 登录
##### 3.5.1 管理员登录
使用者：管理员
目的：登录博客系统
基本事件流
1. 管理员输入系统认证码，前端向服务器发起认证请求
2. 服务器检验认证码的有效性，有效则返回允许登录信息；否则返回登录失败信息
3. 前端根据登录回执信息进行不同的处理，允许登录则跳转页面至首页；登录失败则显示登录失败信息

####  3.6 其他特性
##### 3.6.1 打赏管理员
使用者：游客
目的：打赏网站管理员
基本事件流
1. 系统在文章尾部自动生成不同支付平台的打赏二维码
2. 游客扫描支付平台二维码完成打赏

##### 3.6.2 查看文章大纲
使用者：网站用户
目的：查看一篇文章由标题、子标题组成的大纲链接
基本事件流
1. 网站用户进入一篇文章的内容页面
2. 系统从后端读取到文章文字内容后，通过该文字内容生成大纲链接
3. 在文章页面对应位置渲染大纲链接内容，方便用户在文章内各个子标题之间进行跳转

[markdown-toc](https://github.com/jonschlinkert/markdown-toc)
> 通过markdown-toc将md文档生成好的大纲内容动态地替换到文章html中预留的位置

##### 3.6.3 博客标签一览
使用者：网站用户
目的：查看博客所有文章的所有标签
基本事件流
1. 网站用户进入博客标签一览页面
2. 系统搜索数据库获得所有标签与每个标签出现的次数，传回给前端
3. 前端根据标签出现次数从高到低渲染标签一览页面

###  4 非功能性需求
#### 4.1 性能需求
1. 客户端一般响应时间不超过1秒
2. 支持200名用户并发使用，并保证性能不受影响
3. 系统可以在各种主流浏览器上正常运行，对不同分辨率的显示器具有良好适应性。

#### 4.2 安全性需求
1. 权限控制
根据不同用户角色，设置相应权限，没有权限的用户禁止使用系统。游客只可浏览文章，不可对文章内容进行修改，管理员只可对自己发布的文章进行操作。
2. 重要数据加密
本系统对一些重要的数据按一定的算法进行加密，如用户口令、重要参数等。

#### 4.3 用户文档
同本软件一起发行的用户文档包括：
1. 用户手册：Word格式文件。
2. 在线帮助：HTML Help格式文件，联机式。


###  5 外部接口需求
#### 5.1 用户接口